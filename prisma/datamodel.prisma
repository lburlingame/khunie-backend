type User {
  id: ID! @id
  name: String! @unique
  email: String! @unique
  password: String!
	boards: [Board!]! @relation(name: "OwnedBoards")
	invited: [Board!]! @relation(name: "InvitedBoards")
  comments: [Comment!]! 
	teams: [TeamMembership!]!
	createdAt: DateTime! @createdAt
}

type Team {
	id: ID! @id
	owner: User!
	name: String! @unique
  description: String
	boards: [Board!]!
	createdAt: DateTime! @createdAt
}

type TeamMembership {
	id: ID! @id
	user: User!
	team: Team!
	role: Role! @default(value: MEMBER)
	createdAt: DateTime! @createdAt
}

type Board {
  id: ID! @id
  owner: User! @relation(name: "OwnedBoards")
  name: String!
  description: String
	members: [User!]! @relation(name: "InvitedBoards")
	lists: [List!]!
	visibility: Visibility! @default(value: PRIVATE)
	createdAt: DateTime! @createdAt
	updatedAt: DateTime! @updatedAt
}

type List {
	id: ID! @id
	board: Board!
  createdBy: User!
	name: String!
	cards: [Card!]!
	createdAt: DateTime! @createdAt
}

type Card {
	id: ID! @id
	list: List!
  createdBy: User!
	title: String!
	description: String
	comments: [Comment!]!
	createdAt: DateTime! @createdAt
	updatedAt: DateTime! @updatedAt
}

type Comment {
	id: ID! @id
	card: Card!
	postedBy: User!
	content: String!
  replies: [Comment!]!
	createdAt: DateTime! @createdAt
	updatedAt: DateTime! @updatedAt
}

enum Role {
	ADMIN
	MEMBER
	VIEWER
}

enum Visibility {
	PRIVATE
	PUBLIC
	TEAM
}
